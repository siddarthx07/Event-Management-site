{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, createElementVNode as _createElementVNode, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  id: \"app\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_Notification = _resolveComponent(\"Notification\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"nav\", null, [_createCommentVNode(\" Navigation Links \"), $options.isLoggedIn ? (_openBlock(), _createElementBlock(\"span\", _hoisted_2, \"Welcome, \" + _toDisplayString($data.username) + \"!\", 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), $options.isLoggedIn ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 1,\n    to: \"/\"\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\"Events\")])),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), $options.isLoggedIn && $options.isAdmin ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 2,\n    to: \"/admin\"\n  }, {\n    default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\"Admin Panel\")])),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), $options.isLoggedIn ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 3,\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.logout && $options.logout(...args))\n  }, \"Logout\")) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Logout Button \"), _createCommentVNode(\" Show login/register links if the user is not logged in \"), !$options.isLoggedIn ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 4,\n    to: \"/login\"\n  }, {\n    default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"Sign In\")])),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), !$options.isLoggedIn ? (_openBlock(), _createBlock(_component_router_link, {\n    key: 5,\n    to: \"/register\"\n  }, {\n    default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\"Sign Up\")])),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" Notification Component \"), $data.notification.message ? (_openBlock(), _createBlock(_component_Notification, {\n    key: 0,\n    type: $data.notification.type,\n    message: $data.notification.message\n  }, null, 8 /* PROPS */, [\"type\", \"message\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Routed components will be displayed here \"), _createVNode(_component_router_view)]);\n}","map":{"version":3,"names":["id","key","_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","$options","isLoggedIn","_hoisted_2","_toDisplayString","$data","username","_createBlock","_component_router_link","to","default","_withCtx","_cache","_createTextVNode","_","isAdmin","onClick","args","logout","notification","message","_component_Notification","type","_createVNode","_component_router_view"],"sources":["/Users/siddarthbandi/Desktop/SID/project/event-management-platform/event-management-frontend/src/App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <nav>\n      <!-- Navigation Links -->\n      <span v-if=\"isLoggedIn\">Welcome, {{ username }}!</span>      \n      <router-link v-if=\"isLoggedIn\" to=\"/\">Events</router-link>\n      <router-link v-if=\"isLoggedIn && isAdmin\" to=\"/admin\">Admin Panel</router-link>\n      <button v-if=\"isLoggedIn\" @click=\"logout\">Logout</button> <!-- Logout Button -->\n      <!-- Show login/register links if the user is not logged in -->\n      <router-link v-if=\"!isLoggedIn\" to=\"/login\">Sign In</router-link>\n      <router-link v-if=\"!isLoggedIn\" to=\"/register\">Sign Up</router-link>\n    </nav>\n    \n    <!-- Notification Component -->\n    <Notification v-if=\"notification.message\" :type=\"notification.type\" :message=\"notification.message\" />\n    \n    <!-- Routed components will be displayed here -->\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\n\n\nexport default {\n  name: 'App',\n  components: {\n    Notification\n  },\n  data() {\n    return {\n      username: localStorage.getItem('username') || '',\n      token: localStorage.getItem('token') || '',\n      role: localStorage.getItem('role') || '',\n      notification: {\n        message: '',\n        type: '' // e.g., 'success', 'error'\n      }\n    };\n  },\n  computed: {\n    isLoggedIn() {\n      return !!this.token;\n    },\n    isAdmin() {\n      return this.role === 'admin';\n    }\n  },\n  methods: {\n    logout() {\n      localStorage.removeItem('token');\n      localStorage.removeItem('username');\n      localStorage.removeItem('role');\n      this.token = '';\n      this.username = '';\n      this.role = '';\n      this.$router.push('/');\n      this.showNotification('You have successfully logged out!', 'success');\n    },\n    showNotification(message, type) {\n      this.notification.message = message;\n      this.notification.type = type;\n      setTimeout(() => {\n        this.notification.message = '';\n        this.notification.type = '';\n      }, 3000);\n    }\n  },\n  created() {\n    const token = localStorage.getItem('token');\n    \n    if (token) {\n      try {\n        const payload = JSON.parse(atob(token.split('.')[1]));\n        console.log('Token Payload:', payload);\n        this.username = payload.username;\n        this.role = payload.role;\n        localStorage.setItem('username', payload.username);\n        localStorage.setItem('role', payload.role);\n      } catch (error) {\n        console.error('Error decoding token:', error);\n        localStorage.removeItem('token');\n        localStorage.removeItem('username');\n        localStorage.removeItem('role');\n      }\n    }\n  }\n};\n</script>\n\n<style>\n/* Enhanced global styles */\nnav {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 20px;\n  background-color: #343a40;\n}\n\nnav a {\n  margin: 0 10px;\n  text-decoration: none;\n  color: #fff;\n}\n\nnav a:hover {\n  text-decoration: underline;\n}\n\nnav button {\n  margin-left: 10px;\n  padding: 5px 10px;\n  background-color: #dc3545;\n  border: none;\n  color: white;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\nnav button:hover {\n  background-color: #c82333;\n}\n\n/* Notification Styles */\n.notification {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  padding: 15px 25px;\n  border-radius: 4px;\n  color: #fff;\n  z-index: 1000;\n}\n\n.notification.success {\n  background-color: #28a745;\n}\n\n.notification.error {\n  background-color: #dc3545;\n}\n</style>\n"],"mappings":";;EACOA,EAAE,EAAC;AAAK;;EADfC,GAAA;AAAA;;;;;uBACEC,mBAAA,CAiBM,OAjBNC,UAiBM,GAhBJC,mBAAA,CASM,cARJC,mBAAA,sBAAyB,EACbC,QAAA,CAAAC,UAAU,I,cAAtBL,mBAAA,CAAuD,QAJ7DM,UAAA,EAI8B,WAAS,GAAAC,gBAAA,CAAGC,KAAA,CAAAC,QAAQ,IAAG,GAAC,mBAJtDN,mBAAA,gBAKyBC,QAAA,CAAAC,UAAU,I,cAA7BK,YAAA,CAA0DC,sBAAA;IALhEZ,GAAA;IAKqCa,EAAE,EAAC;;IALxCC,OAAA,EAAAC,QAAA,CAK4C,MAAMC,MAAA,QAAAA,MAAA,OALlDC,gBAAA,CAK4C,QAAM,E;IALlDC,CAAA;QAAAd,mBAAA,gBAMyBC,QAAA,CAAAC,UAAU,IAAID,QAAA,CAAAc,OAAO,I,cAAxCR,YAAA,CAA+EC,sBAAA;IANrFZ,GAAA;IAMgDa,EAAE,EAAC;;IANnDC,OAAA,EAAAC,QAAA,CAM4D,MAAWC,MAAA,QAAAA,MAAA,OANvEC,gBAAA,CAM4D,aAAW,E;IANvEC,CAAA;QAAAd,mBAAA,gBAOoBC,QAAA,CAAAC,UAAU,I,cAAxBL,mBAAA,CAAyD;IAP/DD,GAAA;IAOiCoB,OAAK,EAAAJ,MAAA,QAAAA,MAAA,UAAAK,IAAA,KAAEhB,QAAA,CAAAiB,MAAA,IAAAjB,QAAA,CAAAiB,MAAA,IAAAD,IAAA,CAAM;KAAE,QAAM,KAPtDjB,mBAAA,gBAOgEA,mBAAA,mBAAsB,EAChFA,mBAAA,4DAA+D,E,CAC3CC,QAAA,CAAAC,UAAU,I,cAA9BK,YAAA,CAAiEC,sBAAA;IATvEZ,GAAA;IASsCa,EAAE,EAAC;;IATzCC,OAAA,EAAAC,QAAA,CASkD,MAAOC,MAAA,QAAAA,MAAA,OATzDC,gBAAA,CASkD,SAAO,E;IATzDC,CAAA;QAAAd,mBAAA,gB,CAU0BC,QAAA,CAAAC,UAAU,I,cAA9BK,YAAA,CAAoEC,sBAAA;IAV1EZ,GAAA;IAUsCa,EAAE,EAAC;;IAVzCC,OAAA,EAAAC,QAAA,CAUqD,MAAOC,MAAA,QAAAA,MAAA,OAV5DC,gBAAA,CAUqD,SAAO,E;IAV5DC,CAAA;QAAAd,mBAAA,e,GAaIA,mBAAA,4BAA+B,EACXK,KAAA,CAAAc,YAAY,CAACC,OAAO,I,cAAxCb,YAAA,CAAsGc,uBAAA;IAd1GzB,GAAA;IAc+C0B,IAAI,EAAEjB,KAAA,CAAAc,YAAY,CAACG,IAAI;IAAGF,OAAO,EAAEf,KAAA,CAAAc,YAAY,CAACC;kDAd/FpB,mBAAA,gBAgBIA,mBAAA,8CAAiD,EACjDuB,YAAA,CAA2BC,sBAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}