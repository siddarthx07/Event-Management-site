{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  props: ['id'],\n  data() {\n    return {\n      event: null,\n      formattedDate: '',\n      // Store the correctly formatted date for the input field\n      errorMessage: ''\n    };\n  },\n  created() {\n    this.fetchEvent(); // Fetch event data when the component is created\n  },\n  methods: {\n    // Fetch the event data from the server\n    fetchEvent() {\n      axios.get(`http://localhost:3000/api/events/${this.id}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}` // Ensure the token is sent\n        }\n      }).then(response => {\n        this.event = response.data;\n        this.formattedDate = this.formatDate(this.event.date); // Format the date correctly for the input field\n      }).catch(() => {\n        this.$toast.error('Failed to load event data.'); // Show toast for loading error\n      });\n    },\n    // Format the date to \"yyyy-MM-dd\" format for the date input field\n    formatDate(isoString) {\n      const date = new Date(isoString);\n      const year = date.getFullYear();\n      const month = (date.getMonth() + 1).toString().padStart(2, '0'); // Add leading zero\n      const day = date.getDate().toString().padStart(2, '0'); // Add leading zero\n      return `${year}-${month}-${day}`; // Return the formatted date\n    },\n    // Update the event with the new data\n    updateEvent() {\n      // Set the event's date to the correctly formatted date from the input field\n      this.event.date = this.formattedDate;\n      axios.put(`http://localhost:3000/api/events/${this.id}`, this.event, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}` // Ensure the token is sent\n        }\n      }).then(() => {\n        this.$toast.success('Event updated successfully!'); // Show success toast\n        this.$router.push('/events'); // Redirect to the event list after a successful update\n      }).catch(() => {\n        this.$toast.error('Failed to update the event.'); // Show error toast\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","props","data","event","formattedDate","errorMessage","created","fetchEvent","methods","get","id","headers","Authorization","localStorage","getItem","then","response","formatDate","date","catch","$toast","error","isoString","Date","year","getFullYear","month","getMonth","toString","padStart","day","getDate","updateEvent","put","success","$router","push"],"sources":["/Users/siddarthbandi/Desktop/SID/project/event-management-platform/event-management-frontend/src/components/EditEvent.vue"],"sourcesContent":["<template>\n  <div v-if=\"event\">\n    <h2>Edit Event: {{ event.name }}</h2>\n    <form @submit.prevent=\"updateEvent\">\n      <div>\n        <label for=\"name\">Event Name:</label>\n        <input type=\"text\" v-model=\"event.name\" id=\"name\" required />\n      </div>\n\n      <div>\n        <label for=\"description\">Description:</label>\n        <textarea v-model=\"event.description\" id=\"description\"></textarea>\n      </div>\n\n      <div>\n        <label for=\"date\">Date:</label>\n        <input type=\"date\" v-model=\"formattedDate\" id=\"date\" required />\n      </div>\n\n      <button type=\"submit\">Update Event</button>\n    </form>\n  </div>\n  <div v-else>\n    <p v-if=\"errorMessage\">{{ errorMessage }}</p>\n    <p>Loading event data...</p>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  props: ['id'],\n  data() {\n    return {\n      event: null,\n      formattedDate: '', // Store the correctly formatted date for the input field\n      errorMessage: ''\n    };\n  },\n  created() {\n    this.fetchEvent(); // Fetch event data when the component is created\n  },\n  methods: {\n    // Fetch the event data from the server\n    fetchEvent() {\n      axios.get(`http://localhost:3000/api/events/${this.id}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}` // Ensure the token is sent\n        }\n      })\n      .then(response => {\n        this.event = response.data;\n        this.formattedDate = this.formatDate(this.event.date); // Format the date correctly for the input field\n      })\n      .catch(() => {\n        this.$toast.error('Failed to load event data.'); // Show toast for loading error\n      });\n    },\n\n    // Format the date to \"yyyy-MM-dd\" format for the date input field\n    formatDate(isoString) {\n      const date = new Date(isoString);\n      const year = date.getFullYear();\n      const month = (date.getMonth() + 1).toString().padStart(2, '0'); // Add leading zero\n      const day = date.getDate().toString().padStart(2, '0'); // Add leading zero\n      return `${year}-${month}-${day}`; // Return the formatted date\n    },\n\n    // Update the event with the new data\n    updateEvent() {\n      // Set the event's date to the correctly formatted date from the input field\n      this.event.date = this.formattedDate;\n\n      axios.put(`http://localhost:3000/api/events/${this.id}`, this.event, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}` // Ensure the token is sent\n        }\n      })\n      .then(() => {\n        this.$toast.success('Event updated successfully!'); // Show success toast\n        this.$router.push('/events'); // Redirect to the event list after a successful update\n      })\n      .catch(() => {\n        this.$toast.error('Failed to update the event.'); // Show error toast\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n/* Your styles here */\n</style>\n"],"mappings":";AA6BA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,KAAK,EAAE,CAAC,IAAI,CAAC;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,IAAI;MACXC,aAAa,EAAE,EAAE;MAAE;MACnBC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,UAAU,CAAC,CAAC,EAAE;EACrB,CAAC;EACDC,OAAO,EAAE;IACP;IACAD,UAAUA,CAAA,EAAG;MACXP,KAAK,CAACS,GAAG,CAAC,oCAAoC,IAAI,CAACC,EAAE,EAAE,EAAE;QACvDC,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAC,CAAE;QAC3D;MACF,CAAC,EACAC,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACb,KAAI,GAAIa,QAAQ,CAACd,IAAI;QAC1B,IAAI,CAACE,aAAY,GAAI,IAAI,CAACa,UAAU,CAAC,IAAI,CAACd,KAAK,CAACe,IAAI,CAAC,EAAE;MACzD,CAAC,EACAC,KAAK,CAAC,MAAM;QACX,IAAI,CAACC,MAAM,CAACC,KAAK,CAAC,4BAA4B,CAAC,EAAE;MACnD,CAAC,CAAC;IACJ,CAAC;IAED;IACAJ,UAAUA,CAACK,SAAS,EAAE;MACpB,MAAMJ,IAAG,GAAI,IAAIK,IAAI,CAACD,SAAS,CAAC;MAChC,MAAME,IAAG,GAAIN,IAAI,CAACO,WAAW,CAAC,CAAC;MAC/B,MAAMC,KAAI,GAAI,CAACR,IAAI,CAACS,QAAQ,CAAC,IAAI,CAAC,EAAEC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE;MACjE,MAAMC,GAAE,GAAIZ,IAAI,CAACa,OAAO,CAAC,CAAC,CAACH,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE;MACxD,OAAO,GAAGL,IAAI,IAAIE,KAAK,IAAII,GAAG,EAAE,EAAE;IACpC,CAAC;IAED;IACAE,WAAWA,CAAA,EAAG;MACZ;MACA,IAAI,CAAC7B,KAAK,CAACe,IAAG,GAAI,IAAI,CAACd,aAAa;MAEpCJ,KAAK,CAACiC,GAAG,CAAC,oCAAoC,IAAI,CAACvB,EAAE,EAAE,EAAE,IAAI,CAACP,KAAK,EAAE;QACnEQ,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAC,CAAE;QAC3D;MACF,CAAC,EACAC,IAAI,CAAC,MAAM;QACV,IAAI,CAACK,MAAM,CAACc,OAAO,CAAC,6BAA6B,CAAC,EAAE;QACpD,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,SAAS,CAAC,EAAE;MAChC,CAAC,EACAjB,KAAK,CAAC,MAAM;QACX,IAAI,CAACC,MAAM,CAACC,KAAK,CAAC,6BAA6B,CAAC,EAAE;MACpD,CAAC,CAAC;IACJ;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}