{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.dom-exception.stack.js\";\nimport AppNavbar from './components/AppNavbar.vue';\nimport { ref, computed } from 'vue';\nimport { useRouter, useRoute } from 'vue-router';\nexport default {\n  name: 'App',\n  components: {\n    AppNavbar\n  },\n  setup() {\n    const router = useRouter();\n    const route = useRoute();\n    const filters = ref({\n      search: route.query.search || '',\n      startDate: route.query.startDate || '',\n      endDate: route.query.endDate || ''\n    });\n\n    // Computed property to check if navbar should be hidden\n    const hideNavbar = computed(() => route.meta.hideNavbar);\n    const handleFilter = filterCriteria => {\n      filters.value = filterCriteria;\n      // Update the route's query parameters to pass filters to routed components\n      router.push({\n        name: route.name,\n        query: filterCriteria\n      });\n    };\n    return {\n      filters,\n      handleFilter,\n      hideNavbar\n    };\n  },\n  created() {\n    const token = localStorage.getItem('token');\n    if (token) {\n      try {\n        const payload = JSON.parse(atob(token.split('.')[1]));\n        console.log('Token Payload:', payload);\n        localStorage.setItem('username', payload.username);\n        localStorage.setItem('role', payload.role);\n      } catch (error) {\n        console.error('Error decoding token:', error);\n        localStorage.removeItem('token');\n        localStorage.removeItem('username');\n        localStorage.removeItem('role');\n      }\n    }\n  }\n};","map":{"version":3,"names":["AppNavbar","ref","computed","useRouter","useRoute","name","components","setup","router","route","filters","search","query","startDate","endDate","hideNavbar","meta","handleFilter","filterCriteria","value","push","created","token","localStorage","getItem","payload","JSON","parse","atob","split","console","log","setItem","username","role","error","removeItem"],"sources":["/Users/siddarthbandi/Desktop/SID/project/event-management-platform/event-management-frontend/src/App.vue"],"sourcesContent":["<!-- src/App.vue -->\n\n<template>\n  <div id=\"app\">\n    <!-- Conditionally render Navbar based on route meta -->\n    <AppNavbar v-if=\"!hideNavbar\" @filter-events=\"handleFilter\" />\n\n    <!-- Routed components will be displayed here -->\n    <router-view :filters=\"filters\" />\n  </div>\n</template>\n\n<script>\nimport AppNavbar from './components/AppNavbar.vue';\nimport { ref, computed } from 'vue';\nimport { useRouter, useRoute } from 'vue-router';\n\nexport default {\n  name: 'App',\n  components: {\n    AppNavbar\n  },\n  setup() {\n    const router = useRouter();\n    const route = useRoute();\n\n    const filters = ref({\n      search: route.query.search || '',\n      startDate: route.query.startDate || '',\n      endDate: route.query.endDate || ''\n    });\n\n    // Computed property to check if navbar should be hidden\n    const hideNavbar = computed(() => route.meta.hideNavbar);\n\n    const handleFilter = (filterCriteria) => {\n      filters.value = filterCriteria;\n      // Update the route's query parameters to pass filters to routed components\n      router.push({ \n        name: route.name, \n        query: filterCriteria \n      });\n    };\n\n    return {\n      filters,\n      handleFilter,\n      hideNavbar\n    };\n  },\n  created() {\n    const token = localStorage.getItem('token');\n    \n    if (token) {\n      try {\n        const payload = JSON.parse(atob(token.split('.')[1]));\n        console.log('Token Payload:', payload);\n        localStorage.setItem('username', payload.username);\n        localStorage.setItem('role', payload.role);\n      } catch (error) {\n        console.error('Error decoding token:', error);\n        localStorage.removeItem('token');\n        localStorage.removeItem('username');\n        localStorage.removeItem('role');\n      }\n    }\n  }\n};\n</script>\n\n<style>\n/* Global styles */\nbody {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  background-color: #f9f9f9;\n  margin: 0;\n}\n</style>\n"],"mappings":";;AAaA,OAAOA,SAAQ,MAAO,4BAA4B;AAClD,SAASC,GAAG,EAAEC,QAAO,QAAS,KAAK;AACnC,SAASC,SAAS,EAAEC,QAAO,QAAS,YAAY;AAEhD,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,UAAU,EAAE;IACVN;EACF,CAAC;EACDO,KAAKA,CAAA,EAAG;IACN,MAAMC,MAAK,GAAIL,SAAS,CAAC,CAAC;IAC1B,MAAMM,KAAI,GAAIL,QAAQ,CAAC,CAAC;IAExB,MAAMM,OAAM,GAAIT,GAAG,CAAC;MAClBU,MAAM,EAAEF,KAAK,CAACG,KAAK,CAACD,MAAK,IAAK,EAAE;MAChCE,SAAS,EAAEJ,KAAK,CAACG,KAAK,CAACC,SAAQ,IAAK,EAAE;MACtCC,OAAO,EAAEL,KAAK,CAACG,KAAK,CAACE,OAAM,IAAK;IAClC,CAAC,CAAC;;IAEF;IACA,MAAMC,UAAS,GAAIb,QAAQ,CAAC,MAAMO,KAAK,CAACO,IAAI,CAACD,UAAU,CAAC;IAExD,MAAME,YAAW,GAAKC,cAAc,IAAK;MACvCR,OAAO,CAACS,KAAI,GAAID,cAAc;MAC9B;MACAV,MAAM,CAACY,IAAI,CAAC;QACVf,IAAI,EAAEI,KAAK,CAACJ,IAAI;QAChBO,KAAK,EAAEM;MACT,CAAC,CAAC;IACJ,CAAC;IAED,OAAO;MACLR,OAAO;MACPO,YAAY;MACZF;IACF,CAAC;EACH,CAAC;EACDM,OAAOA,CAAA,EAAG;IACR,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAE3C,IAAIF,KAAK,EAAE;MACT,IAAI;QACF,MAAMG,OAAM,GAAIC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACN,KAAK,CAACO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrDC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEN,OAAO,CAAC;QACtCF,YAAY,CAACS,OAAO,CAAC,UAAU,EAAEP,OAAO,CAACQ,QAAQ,CAAC;QAClDV,YAAY,CAACS,OAAO,CAAC,MAAM,EAAEP,OAAO,CAACS,IAAI,CAAC;MAC5C,EAAE,OAAOC,KAAK,EAAE;QACdL,OAAO,CAACK,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;QAC7CZ,YAAY,CAACa,UAAU,CAAC,OAAO,CAAC;QAChCb,YAAY,CAACa,UAAU,CAAC,UAAU,CAAC;QACnCb,YAAY,CAACa,UAAU,CAAC,MAAM,CAAC;MACjC;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}