{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.dom-exception.stack.js\";\nimport Notification from './components/Notification.vue'; // Example of a reusable component\n\nexport default {\n  name: 'App',\n  components: {\n    Notification\n  },\n  data() {\n    return {\n      username: localStorage.getItem('username') || '',\n      token: localStorage.getItem('token') || '',\n      role: localStorage.getItem('role') || '',\n      notification: {\n        message: '',\n        type: '' // e.g., 'success', 'error'\n      }\n    };\n  },\n  computed: {\n    isLoggedIn() {\n      return !!this.token;\n    },\n    isAdmin() {\n      return this.role === 'admin';\n    }\n  },\n  methods: {\n    logout() {\n      localStorage.removeItem('token');\n      localStorage.removeItem('username');\n      localStorage.removeItem('role');\n      this.token = '';\n      this.username = '';\n      this.role = '';\n      this.$router.push('/');\n      this.showNotification('You have successfully logged out!', 'success');\n    },\n    showNotification(message, type) {\n      this.notification.message = message;\n      this.notification.type = type;\n      setTimeout(() => {\n        this.notification.message = '';\n        this.notification.type = '';\n      }, 3000);\n    }\n  },\n  created() {\n    const token = localStorage.getItem('token');\n    if (token) {\n      try {\n        const payload = JSON.parse(atob(token.split('.')[1]));\n        console.log('Token Payload:', payload);\n        this.username = payload.username;\n        this.role = payload.role;\n        localStorage.setItem('username', payload.username);\n        localStorage.setItem('role', payload.role);\n      } catch (error) {\n        console.error('Error decoding token:', error);\n        localStorage.removeItem('token');\n        localStorage.removeItem('username');\n        localStorage.removeItem('role');\n      }\n    }\n  }\n};","map":{"version":3,"names":["Notification","name","components","data","username","localStorage","getItem","token","role","notification","message","type","computed","isLoggedIn","isAdmin","methods","logout","removeItem","$router","push","showNotification","setTimeout","created","payload","JSON","parse","atob","split","console","log","setItem","error"],"sources":["/Users/siddarthbandi/Desktop/SID/project/event-management-platform/event-management-frontend/src/App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <nav>\n      <!-- Navigation Links -->\n      <span v-if=\"isLoggedIn\">Welcome, {{ username }}!</span>      \n      <router-link v-if=\"isLoggedIn\" to=\"/\">Events</router-link>\n      <router-link v-if=\"isLoggedIn && isAdmin\" to=\"/admin\">Admin Panel</router-link>\n      <button v-if=\"isLoggedIn\" @click=\"logout\">Logout</button> <!-- Logout Button -->\n      <!-- Show login/register links if the user is not logged in -->\n      <router-link v-if=\"!isLoggedIn\" to=\"/login\">Sign In</router-link>\n      <router-link v-if=\"!isLoggedIn\" to=\"/register\">Sign Up</router-link>\n    </nav>\n    \n    <!-- Notification Component -->\n    <Notification v-if=\"notification.message\" :type=\"notification.type\" :message=\"notification.message\" />\n    \n    <!-- Routed components will be displayed here -->\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nimport Notification from './components/Notification.vue'; // Example of a reusable component\n\nexport default {\n  name: 'App',\n  components: {\n    Notification\n  },\n  data() {\n    return {\n      username: localStorage.getItem('username') || '',\n      token: localStorage.getItem('token') || '',\n      role: localStorage.getItem('role') || '',\n      notification: {\n        message: '',\n        type: '' // e.g., 'success', 'error'\n      }\n    };\n  },\n  computed: {\n    isLoggedIn() {\n      return !!this.token;\n    },\n    isAdmin() {\n      return this.role === 'admin';\n    }\n  },\n  methods: {\n    logout() {\n      localStorage.removeItem('token');\n      localStorage.removeItem('username');\n      localStorage.removeItem('role');\n      this.token = '';\n      this.username = '';\n      this.role = '';\n      this.$router.push('/');\n      this.showNotification('You have successfully logged out!', 'success');\n    },\n    showNotification(message, type) {\n      this.notification.message = message;\n      this.notification.type = type;\n      setTimeout(() => {\n        this.notification.message = '';\n        this.notification.type = '';\n      }, 3000);\n    }\n  },\n  created() {\n    const token = localStorage.getItem('token');\n    \n    if (token) {\n      try {\n        const payload = JSON.parse(atob(token.split('.')[1]));\n        console.log('Token Payload:', payload);\n        this.username = payload.username;\n        this.role = payload.role;\n        localStorage.setItem('username', payload.username);\n        localStorage.setItem('role', payload.role);\n      } catch (error) {\n        console.error('Error decoding token:', error);\n        localStorage.removeItem('token');\n        localStorage.removeItem('username');\n        localStorage.removeItem('role');\n      }\n    }\n  }\n};\n</script>\n\n<style>\n/* Enhanced global styles */\nnav {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 20px;\n  background-color: #343a40;\n}\n\nnav a {\n  margin: 0 10px;\n  text-decoration: none;\n  color: #fff;\n}\n\nnav a:hover {\n  text-decoration: underline;\n}\n\nnav button {\n  margin-left: 10px;\n  padding: 5px 10px;\n  background-color: #dc3545;\n  border: none;\n  color: white;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\nnav button:hover {\n  background-color: #c82333;\n}\n\n/* Notification Styles */\n.notification {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  padding: 15px 25px;\n  border-radius: 4px;\n  color: #fff;\n  z-index: 1000;\n}\n\n.notification.success {\n  background-color: #28a745;\n}\n\n.notification.error {\n  background-color: #dc3545;\n}\n</style>\n"],"mappings":";;AAsBA,OAAOA,YAAW,MAAO,+BAA+B,EAAE;;AAE1D,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAEC,YAAY,CAACC,OAAO,CAAC,UAAU,KAAK,EAAE;MAChDC,KAAK,EAAEF,YAAY,CAACC,OAAO,CAAC,OAAO,KAAK,EAAE;MAC1CE,IAAI,EAAEH,YAAY,CAACC,OAAO,CAAC,MAAM,KAAK,EAAE;MACxCG,YAAY,EAAE;QACZC,OAAO,EAAE,EAAE;QACXC,IAAI,EAAE,EAAC,CAAE;MACX;IACF,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,UAAUA,CAAA,EAAG;MACX,OAAO,CAAC,CAAC,IAAI,CAACN,KAAK;IACrB,CAAC;IACDO,OAAOA,CAAA,EAAG;MACR,OAAO,IAAI,CAACN,IAAG,KAAM,OAAO;IAC9B;EACF,CAAC;EACDO,OAAO,EAAE;IACPC,MAAMA,CAAA,EAAG;MACPX,YAAY,CAACY,UAAU,CAAC,OAAO,CAAC;MAChCZ,YAAY,CAACY,UAAU,CAAC,UAAU,CAAC;MACnCZ,YAAY,CAACY,UAAU,CAAC,MAAM,CAAC;MAC/B,IAAI,CAACV,KAAI,GAAI,EAAE;MACf,IAAI,CAACH,QAAO,GAAI,EAAE;MAClB,IAAI,CAACI,IAAG,GAAI,EAAE;MACd,IAAI,CAACU,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;MACtB,IAAI,CAACC,gBAAgB,CAAC,mCAAmC,EAAE,SAAS,CAAC;IACvE,CAAC;IACDA,gBAAgBA,CAACV,OAAO,EAAEC,IAAI,EAAE;MAC9B,IAAI,CAACF,YAAY,CAACC,OAAM,GAAIA,OAAO;MACnC,IAAI,CAACD,YAAY,CAACE,IAAG,GAAIA,IAAI;MAC7BU,UAAU,CAAC,MAAM;QACf,IAAI,CAACZ,YAAY,CAACC,OAAM,GAAI,EAAE;QAC9B,IAAI,CAACD,YAAY,CAACE,IAAG,GAAI,EAAE;MAC7B,CAAC,EAAE,IAAI,CAAC;IACV;EACF,CAAC;EACDW,OAAOA,CAAA,EAAG;IACR,MAAMf,KAAI,GAAIF,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAE3C,IAAIC,KAAK,EAAE;MACT,IAAI;QACF,MAAMgB,OAAM,GAAIC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACnB,KAAK,CAACoB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrDC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEN,OAAO,CAAC;QACtC,IAAI,CAACnB,QAAO,GAAImB,OAAO,CAACnB,QAAQ;QAChC,IAAI,CAACI,IAAG,GAAIe,OAAO,CAACf,IAAI;QACxBH,YAAY,CAACyB,OAAO,CAAC,UAAU,EAAEP,OAAO,CAACnB,QAAQ,CAAC;QAClDC,YAAY,CAACyB,OAAO,CAAC,MAAM,EAAEP,OAAO,CAACf,IAAI,CAAC;MAC5C,EAAE,OAAOuB,KAAK,EAAE;QACdH,OAAO,CAACG,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;QAC7C1B,YAAY,CAACY,UAAU,CAAC,OAAO,CAAC;QAChCZ,YAAY,CAACY,UAAU,CAAC,UAAU,CAAC;QACnCZ,YAAY,CAACY,UAAU,CAAC,MAAM,CAAC;MACjC;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}