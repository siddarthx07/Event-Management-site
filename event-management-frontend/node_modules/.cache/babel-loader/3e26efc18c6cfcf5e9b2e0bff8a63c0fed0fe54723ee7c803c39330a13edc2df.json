{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      username: localStorage.getItem('username'),\n      role: localStorage.getItem('role') // Get the role from localStorage\n    };\n  },\n  computed: {\n    isOrganizer() {\n      return this.role === 'organizer' || this.role === 'admin'; // Check if the user is an organizer or admin\n    }\n  },\n  methods: {\n    // Function to become an organizer\n\n    becomeOrganizer() {\n      console.log('Token:', localStorage.getItem('token')); // Check the token before making the request\n\n      axios.put('http://localhost:3000/api/users/role/organizer', {}, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}` // Include JWT token in the request headers\n        }\n      }).then(response => {\n        // Update the role both in localStorage and in the Vue component's data\n        localStorage.setItem('role', response.data.role);\n        this.role = response.data.role; // Update the Vue component's reactive role state\n\n        // Redirect to the organizer page after successful role change\n        this.$router.push('/organize');\n      }).catch(error => {\n        console.error('Error updating role:', error);\n        alert('Failed to become an organizer.');\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","data","username","localStorage","getItem","role","computed","isOrganizer","methods","becomeOrganizer","console","log","put","headers","Authorization","then","response","setItem","$router","push","catch","error","alert"],"sources":["/Users/siddarthbandi/Desktop/SID/project/event-management-platform/event-management-frontend/src/components/UserDashboard.vue"],"sourcesContent":["<template>\n  <div>\n    <h2>Welcome, {{ username }}!</h2>\n    <p>Select an option:</p>\n\n    <!-- User Options: View or Organize Events -->\n    <router-link to=\"/\">View Events</router-link> | \n    <button @click=\"becomeOrganizer\">Organize Events</button> <!-- Button to change role to 'organizer' -->\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';  \n\nexport default {\n  data() {\n    return {\n      username: localStorage.getItem('username'),\n      role: localStorage.getItem('role')  // Get the role from localStorage\n    };\n  },\n  computed: {\n    isOrganizer() {\n      return this.role === 'organizer' || this.role === 'admin'; // Check if the user is an organizer or admin\n    }\n  },\n  methods: {\n    // Function to become an organizer\n    \n    becomeOrganizer() {\n  console.log('Token:', localStorage.getItem('token'));  // Check the token before making the request\n\n  axios.put('http://localhost:3000/api/users/role/organizer', {}, {\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem('token')}`  // Include JWT token in the request headers\n    }\n  })\n  .then(response => {\n    // Update the role both in localStorage and in the Vue component's data\n    localStorage.setItem('role', response.data.role);\n    this.role = response.data.role;  // Update the Vue component's reactive role state\n\n    // Redirect to the organizer page after successful role change\n    this.$router.push('/organize');\n  })\n  .catch(error => {\n    console.error('Error updating role:', error);\n    alert('Failed to become an organizer.');\n  });\n}\n\n  }\n};\n</script>\n"],"mappings":";AAYA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAEC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;MAC1CC,IAAI,EAAEF,YAAY,CAACC,OAAO,CAAC,MAAM,EAAG;IACtC,CAAC;EACH,CAAC;EACDE,QAAQ,EAAE;IACRC,WAAWA,CAAA,EAAG;MACZ,OAAO,IAAI,CAACF,IAAG,KAAM,WAAU,IAAK,IAAI,CAACA,IAAG,KAAM,OAAO,EAAE;IAC7D;EACF,CAAC;EACDG,OAAO,EAAE;IACP;;IAEAC,eAAeA,CAAA,EAAG;MACpBC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAER,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,EAAG;;MAEvDJ,KAAK,CAACY,GAAG,CAAC,gDAAgD,EAAE,CAAC,CAAC,EAAE;QAC9DC,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUX,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAC,CAAG;QAC5D;MACF,CAAC,EACAW,IAAI,CAACC,QAAO,IAAK;QAChB;QACAb,YAAY,CAACc,OAAO,CAAC,MAAM,EAAED,QAAQ,CAACf,IAAI,CAACI,IAAI,CAAC;QAChD,IAAI,CAACA,IAAG,GAAIW,QAAQ,CAACf,IAAI,CAACI,IAAI,EAAG;;QAEjC;QACA,IAAI,CAACa,OAAO,CAACC,IAAI,CAAC,WAAW,CAAC;MAChC,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACdX,OAAO,CAACW,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;QAC5CC,KAAK,CAAC,gCAAgC,CAAC;MACzC,CAAC,CAAC;IACJ;EAEE;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}